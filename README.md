# django-study
## 함께 액티비티를 즐길 사람들을 모집하는 API

### 기획
유저 각각을 소개할수 있는 프로필 페이지가 있으며 게시판을 통해 함께 액티비티를 즐길 유저를 모집합니다.

세부 구성요소는 아래와 같습니다.

- **사용자**
  - django abstractuser
- **프로필**
  - 별명
  - 이미지
  - 소개
- **게시판**
  - 제목
  - 이미지
  - 세부 내용
  - 생성일자
  - 글쓴이
  - 참여 인원
  - 신청 인원(글쓴이만 볼수 있게)
- **댓글**
  - 내용
  - 대댓글 여부
  - 생성일자
  - 글쓴이
- **알림**
  - 메시지
  - 수신 여부 확인

### 기능
**게시판**
- 게시글은 생성/ 삭제/ 수정이 가능합니다.
- 함께할 멤버가 게시판에 표시 되어야 합니다.

**멤버**
- 각각의 모집글에 신청한 멤버를 추가가능합니다.
- 신청 멤버/ 수락 멤버를 구분 가능합니다.

**프로필**
- 유저 모델이 생성되면 프로필이 동시에 생성됩니다.

**댓글**
- 각각의 게시글에 댓글을 생성/ 삭제/ 수정이 가능합니다.
- 대댓글이 가능합니다.

**알림**
- 유저의 생성, 멤버 신청 및 결과 메시지를 알림으로 받을수 있습니다.
- 유저가 해당하는 알림의 수신여부를 알수 있습니다.

### 1주차 모델링 과제 논의해봐야할 점
1. 신청중인 멤버의경우 따로 모델을 분리하여 Waitingmember을 만들었는데 이걸 기존 Member모델에 status라는 Boolean필드로 False일경우 수락되지 않은 멤버, True일경우 수락된 멤버로 하는방법중 어떤 방식의 권장되는지?
   1. status를 추가해서 하는것이 적합한 방법임 -> django manytomanyfield의 throughfield로 하는방법으로 해결
2. 알림앱에서 django 해당하는 다른 모델에서 저장되었을때 알림 인스턴스가 생성되게 하였는데 이걸 view단에서 저장되거나 변경될때 쿼리를 생성하는 방법이 있는데 이를 구분하는 기준이 무엇일지?
   1. 추후 유지보수를 할때의 편의를 고려하여 개발 즉, 알림의 경우 models.py의 django signal을 활용하여 우선적으로 개발

+ 1주차 세션후 
  + model의 네이밍 관련하여 개선
    + client개발자가 필드명을 봤을때 따로 설명이 없더라도 무엇인지 알수있도록 결정해야함
    + 지금까지 related_name을 반대로 네이밍 하였음 역참조 할때를 생각하여 related_name도 변경
  + profiles onetoonefield 
    + User모델과 Profile모델을 따로 분리할경우의 문제는 추후 외래키로 연결할때, 어떤 모델에 연결해야할지 결정하기가 어렵다는 문제가 있음
      + AbstractbaseUser을 활용하여 내입맛에 맞게 변경하여 사용할수 있음
      + 프로필 관련해서, 인스타와 같이 프로필을 활용한 기능이 중요함
      + 유지보수의 측면을 고려할때 View, Serializer의 코드량이 Profile과 Account가 많이 다르고 많을거라 분리가 좋지 않을까?
      + 대신, 외래키로 처리할때 로그인/회원가입과 직접적인 관계가 없다면 모두 Profile 모델로 처리하기로 결정
  + Comment모델과 Post모델 분리 관련
    + Comment모델은 독립적으로 활용될 경우가 없고 Post모델에서만 동작하는 모델이므로 따로 분리 권장x
      + Post모델안에 Comment 모델 속하게 변경